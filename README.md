1. 背景
    出于对行为金融学的兴趣，选取行为金融学中的前景理论作为理论基础，复现广发证券研报《交易性择时策略研究之十四————基于V型处置效应的择时研究》。

2. 策略思路
   构造gain因子，loss因子和VNSP因子；
   本篇专题报告对因子走势进行了平滑性处理，具体的方法是采用广发证券金融工程在2013年7月26日《低延迟趋势线与交易性择时》报告中采用的LLT方法；https://bigquant.com/wiki/doc/qushi-zhengquan-20170303-3imEKrVq0S
   https://zhuanlan.zhihu.com/p/469846743
   因子的检验:
   择时因子的检验
   择时策略：
   因子-信号：当t − 1交易日的对应因子值比t − 2日的因子数值小时，说明卖出意愿变强，则在t交易日看空，反之则在t交易日看多。
   信号-仓位：
   趋势跟踪：一把子梭哈：看空，则开空仓，如有多仓平多仓；看多，则开多仓，如有空仓平空仓
   均值回归：逐步加仓：看空做多，逐步加仓，看多做空。
   两者结合

3. 数据准备
   因子构建部分采用指数数据，原文采用指数数据进行交易，为了方便交易，这里采用指数ETF的数据进行交易，
   具体而言：
   选取如下指数：上证综指（000001.SH）、中证500（000905.SH）、创业板指数（399006.SZ）、中小板指数（399005.SZ）、沪深300指数（000300.SH）
   回测区间：指数上市至2022/12/31
   数据类型：日度成交额，成交量，换手率，指数收盘价，ETF收盘价

4. 预期结果
    利用V型处置效应实现指数的择时策略。

5. 工作安排
    3/10：完成基本框架
    3/11-3/16：策略改进：完善因子的检验；进行参数敏感性分析；对处置效应和V型处置效应进行区分；做空方面：引入股指期货；扩展到分钟数据。

6. 代码运行
    准备文件夹：/data, /factors, /orders, /figures
    代码运行顺序：getIndexInfo.py -> getData.py -> getFactors.py -> testFactors.py -> strategy.py -> backtest.py

7. 遇到的问题
    因子与收益率的相关性不强
    多空的收益不如纯多
    llt方法使得因子变为负值






